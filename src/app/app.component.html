
<ul>
  <li *ngFor="let user of users$ | async">
    <span >
      {{user.name}}
    </span>

    <ng-container *ngIf="selectedUser$ | async as selectedUser else notSelected" >
      <button (click)="selectUser(null)" *ngIf="user.id === selectedUser.id">X</button>
    </ng-container>
    <ng-template #notSelected>
      <button (click)="selectUser(user)" >SELECT</button>
    </ng-template>
  </li>
</ul>


<ul>
  <li *ngFor="let post of posts$ | async">

    <span >
      {{post.title}}
    </span>

    <ng-container *ngIf="selectedPost$ | async as selectedPost; else notSelected" >
      <button *ngIf="selectedPost.id === post.id" (click)="selectPost(null)">X</button>
    </ng-container>
    <ng-template #notSelected>
      <button (click)="selectPost(post)" >SELECT</button>
    </ng-template>
  </li>
</ul>

